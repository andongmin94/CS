### [26강. 프로세스 개요](https://www.youtube.com/watch?v=Jjfah3t_xWk)

- "실행 중인 프로그램", 프로세스

![{A1C1BDAE-1EE0-47C1-81F7-F807737DA9F0}](https://github.com/user-attachments/assets/14107969-1f18-468f-a12a-dcdc2ea679ab)

- 포그라운드 프로세스 (foreground process) : 사용자가 볼 수 있는 공간에서 실행되는 프로세스
- 백그라운드 프로세스 (background process) : 사용자가 볼 수 없는 공간에서 실행되는 프로세스
  - 데몬(daemon), 서비스(service)

- 프로세스 제어 블록
  - 모든 프로세스는 실행을 위해 CPU가 필요하다
  - 하지만 CPU 자원은 한정되어있다.
  - 빠르게 번갈아 수행되는 프로세스들을 관리해야함.
  - 이를 위해 사용하는 자료구조가 프로세스 제어 블록(PCB)
    - 프로세스 관련 정보를 저장하는 자료구조
    - 마치 상품에 달린 태그와 같은 정보
    - 프로세스 생성시 커널 영역에 생성, 종료시 폐기

![{A6FB290F-6512-4CCC-8C93-811399FACD26}](https://github.com/user-attachments/assets/a68d6c29-a8ce-4575-b452-f68cb6f8f63b)

- PCB에 담기는 대표적인 정보
  - 프로세스 ID (=PID) : 특정 프로세스를 식별하기 위해 부여하는 고유한 번호(학교의 학번, 회사의 사번)
  - 레지스터 값
    - 프로세스는 자신의 실행 차례가 오면 이전까지 사용한 레지스터 중간 값을 모두 복원 -> 실행 재개
    - 프로그램 카운터, 스택 포인터, ...
  - 프로세스 상태 : 입출력 장치를 사용하기 위해 기다리는 상태, CPU를 사용하기 위해 기다리는 상태, CPU를 이용 중인 상태, ...
  - CPU 스케줄링 정보 : 프로세스가 언제, 어떤 순서로 CPU를 할당받을지에 대한 정
  - 메모리 정보
    - 프로세스가 어느 주소에 저장되어있는지에 대한 정보
    - 페이지 테이블 정보 (지금으로서는 '메모리 주소를 알 수 있는 정보가 담기는구나' 정도로 이해)
  - 사용한 파일과 입출력장치 정보 : 할당된 입출력장치, 사용 중인(열린) 파일 정보

- 문맥 교환 (context switch)
  - 한 프로세스(e.g. 프로세스 A)에서 다른 프로세스(e.g. 프로세스 B)로 실행 순서가 넘어가면?
  - 기존에 실행되던 프로세스 A는 지금까지의 중간 정보를 백업
    - 프로그램 카운터 등 각종 레지스터 값, 메모리 정보, 열었던 파일, 사용한 입출력장치 등
    - 이러한 중간 정보 == 문맥 (context)
    - 다음 차례가 왔을 때 실행을 재개하기 위한 정보
    - "실행 문맥을 백업해두면 언제든 해당 프로세스의 실행을 재개할 수 있다"
  - 뒤이어 실행할 프로세스 B의 문맥을 복구
    - 자연스럽게 실행 중인 프로세스가 바뀜.

![{699FB165-E8B3-4EE7-B2A4-10B4E0414528}](https://github.com/user-attachments/assets/f8c92b65-1ecb-4bef-9afd-fccf95020c76)

![{1A78A59E-4BB8-4B80-B4EC-569D7A45ED3B}](https://github.com/user-attachments/assets/9924f883-7c4a-4adf-b757-5b5d785333d0)

- 그렇다면 사용자 영역에는?
  - 크게 코드 영역(=텍스트 영역), 데이터 영역, 힙 영역, 스택 영역

![{25783F09-F874-424F-A8A3-6E527DCB8BA2}](https://github.com/user-attachments/assets/8e978be9-3c84-4f60-bf99-57a5afce5dca)

- 코드 영역(=텍스트 영역)
  - 실행할 수 있는 코드, 기계어로 이루어진 명령어 저장
  - 데이터가 아닌 CPU가 실행할 명령어가 담기기에 쓰기가 금지된 영역 (read-only)
- 데이터 영역
  - 잠깐 썼다가 없앨 데이터가 아닌 프로그램이 실행되는 동안 유지할 데이터 저장
  - e.g. 전역 변수
- 힙 영역
  - 프로그램을 만드는 사용자, 즉 프로그래머가 직접 할당할 수 있는 저장공간
- 스택 영역
  - 데이터가 일시적으로 저장되는 공간
  - (데이터 영역에 담기는 값과는 달리) 잠깐 쓰다가 말 값들이 저장되는 공간
  - e.g. 매개 변수, 지역 변수

![{F680AD89-7F14-4CEC-8844-A2A7E2AD13D0}](https://github.com/user-attachments/assets/f48a9fc4-9dd8-473b-9d7f-2417a263de1c)
